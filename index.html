// ... (resto del JavaScript) ...

        const handleTouchStart = (e) => {
            if (isVolteoActivo && !isFlipping) {
                isFlipping = true;
                interactiveCard.classList.toggle('flipped');
                isFlipped = !isFlipped;
                setTimeout(() => {
                    isFlipping = false;
                }, 600);
                e.preventDefault();
            } else if (!isVolteoActivo && !isFlipping) {
                handleTouchStartRotate(e);
            }
        };

        interactiveCard.addEventListener('touchstart', handleTouchStart);
        interactiveCard.addEventListener('touchmove', handleTouchMoveRotate);
        interactiveCard.addEventListener('touchend', handleTouchEndRotate);
        interactiveCard.addEventListener('touchcancel', handleTouchCancelRotate);

        const enableFlipListener = () => {
            console.log('Modo VOLTEO activado');
        };

        const disableFlipListener = () => {
            console.log('Modo VOLTEO desactivado');
            interactiveCard.classList.remove('flipped'); // Asegurarse de que no esté volteada al desactivar
            isFlipped = false;
        };

        const enableRotationListeners = () => {
            console.log('Modo ROTACIÓN activado');
        };

        const disableRotationListeners = () => {
            console.log('Modo ROTACIÓN desactivado');
        };

        // ... (resto del JavaScript, sin cambios en handleTouchStartRotate, handleTouchMoveRotate, handleTouchEndRotate) ...

        // --- Lógica del botón ---
        switchModeBtn.addEventListener('click', (e) => {
            e.preventDefault();
            isVolteoActivo = !isVolteoActivo;
            isFlipping = true; // Para evitar toques durante el cambio de modo

            if (isVolteoActivo) {
                switchModeBtn.textContent = 'Desactivar Volteo';
                switchModeBtn.classList.add('volteo-activo');
                enableFlipListener();
            } else {
                switchModeBtn.textContent = 'Activar Volteo';
                switchModeBtn.classList.remove('volteo-activo');
                disableFlipListener();
            }

            setTimeout(() => {
                isFlipping = false;
            }, 100);
        });

        // --- Inicialización ---
        enableRotationListeners(); // Inicialmente en modo rotación
    </script>

</body>
</html>
