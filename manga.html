<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visor de Manga</title>
    <style>
        body { text-align: center; background-color: #1a1a1a; color: white; }
        .gallery img { width: 200px; cursor: pointer; transition: transform 0.3s; }
        .gallery img:hover { transform: scale(1.1); }

        .overlay { 
            display: none;  /* Ahora el visor SIEMPRE inicia oculto */
            position: fixed; 
            top: 0; left: 0; 
            width: 100%; height: 100%; 
            background: rgba(0, 0, 0, 0.9); 
            overflow-y: auto; 
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            padding: 20px; 
        }

        .overlay img { 
            width: 70%; /* Ajuste de tamaño para que no sea gigante */
            max-width: 900px; /* Máximo tamaño */
            display: block; 
            margin: 10px auto; 
        }

        .close { 
            position: fixed; 
            top: 10px; right: 20px; 
            font-size: 30px; cursor: pointer; 
            color: white; 
            background: rgba(0,0,0,0.5);
            padding: 5px 10px;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <h1>Visor de Manga</h1>
    <div class="gallery">
        <img src="https://lh3.googleusercontent.com/d/1IgH4gzuCttxlsPK7DoJkF0cZGxTV4E4-=w200" onclick="showManga()">
    </div>
    <div class="overlay" id="overlay">
        <span class="close" onclick="hideManga()">&times;</span>
        <div id="mangaPages"></div>
    </div>
    <script>
        function showManga() {
            const pages = [
                "1IgH4gzuCttxlsPK7DoJkF0cZGxTV4E4-",  // Portada
                "1UdE3To_EIoWvGzjOP4J-MnStoY99vS2G",
                "1P04Xw8o2l9V9hlhroOM4nrGeBtmeb8at",
                "1D8e7dD3Xe2IsGwbuJ0QAgfG4Dwf5bRId",
                "1oO3vYMSWvWMwupmU92uU9qBc-8z0xFKz"
            ];

            let container = document.getElementById("mangaPages");
            container.innerHTML = ""; // Limpia para evitar imágenes duplicadas

            // Agregar cada imagen al visor
            pages.forEach((id, index) => {
                let img = document.createElement("img");
                img.src = `https://lh3.googleusercontent.com/d/${id}=w900`; // Ajusta el tamaño
                img.loading = "lazy"; // Optimización para carga más rápida
                
                if (index === 0) img.style.marginBottom = "30px"; // Espacio extra en la portada
                
                img.onerror = function() {
                    console.warn(`Error al cargar la imagen: ${id}`);
                    img.style.display = "none"; // Si hay error, oculta la imagen para evitar huecos vacíos
                };

                container.appendChild(img);
            });

            document.getElementById("overlay").style.display = "flex";
        }

        function hideManga() {
            document.getElementById("overlay").style.display = "none";
        }

        // ⛔ Esto previene que el visor aparezca solo al cargar la página ⛔
        document.addEventListener("DOMContentLoaded", () => {
            document.getElementById("overlay").style.display = "none";
        });
    </script>
</body>
</html>
