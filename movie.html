<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Carrusel 3D - Solo 5 Frontales</title>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<style>
@import url('https://fonts.googleapis.com/css2?family=Roboto:wght@900&display=swap');

* { --ang: 0; }

html, body { height: 100%; margin:0; }
body {
  background:black;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
}

.holder {
  width:600px;
  height:200px;
  perspective:700px;
  display:flex;
  justify-content:center;
  align-items:center;
}

.spinner {
  transform-style:preserve-3d;
  position:relative;
  display:flex;
  justify-content:center;
  align-items:center;
  transition:all .5s ease-in-out;
  transform:rotateY(calc(var(--ang) * 1deg));
}

.panel {
  position:absolute;
  width:100px;
  height:100px;
  border-radius:5px;
  background-size:cover;
  background-position:center;
  opacity:0;
  transition:opacity .5s ease-in-out;
}

/* Distribución de los 16 paneles en círculo */
.panel:nth-child(1)  { transform: rotateY(0deg) translateZ(400px); }
.panel:nth-child(2)  { transform: rotateY(22.5deg) translateZ(400px); }
.panel:nth-child(3)  { transform: rotateY(45deg) translateZ(400px); }
.panel:nth-child(4)  { transform: rotateY(67.5deg) translateZ(400px); }
.panel:nth-child(5)  { transform: rotateY(90deg) translateZ(400px); }
.panel:nth-child(6)  { transform: rotateY(112.5deg) translateZ(400px); }
.panel:nth-child(7)  { transform: rotateY(135deg) translateZ(400px); }
.panel:nth-child(8)  { transform: rotateY(157.5deg) translateZ(400px); }
.panel:nth-child(9)  { transform: rotateY(180deg) translateZ(400px); }
.panel:nth-child(10) { transform: rotateY(202.5deg) translateZ(400px); }
.panel:nth-child(11) { transform: rotateY(225deg) translateZ(400px); }
.panel:nth-child(12) { transform: rotateY(247.5deg) translateZ(400px); }
.panel:nth-child(13) { transform: rotateY(270deg) translateZ(400px); }
.panel:nth-child(14) { transform: rotateY(292.5deg) translateZ(400px); }
.panel:nth-child(15) { transform: rotateY(315deg) translateZ(400px); }
.panel:nth-child(16) { transform: rotateY(337.5deg) translateZ(400px); }

.fade {
  width:860px;
  height:200px;
  position:absolute;
  transform:rotateY(calc(var(--ang) * -1deg)) translateZ(110px);
  background:linear-gradient(90deg, rgba(0,0,0,0) 0%, rgba(0,0,0,0.4) 30%, rgba(0,0,0,0.4) 70%, rgba(0,0,0,0) 100%);
  transition:all .5s ease-in-out;
}

.pagination {
  margin-top:10px;
}

.pagination button {
  width:44px;
  height:44px;
  border:none;
  border-radius:100%;
  background:#fffa;
  color:black;
  margin:0 10px;
  font-family:'Roboto', sans-serif;
  font-size:20px;
  cursor:pointer;
  transition: all .2s ease-in-out;
}

.pagination button:hover { background:#fffc; }
.pagination button:active { background:#ffff; }
</style>
</head>
<body>

<div class="holder">
  <div class="spinner">
    <div class="panel a" style="background-image:url(https://images.unsplash.com/photo-1516727003284-a96541e51e9c?crop=entropy&cs=srgb&fm=jpg&q=85)"></div>
    <div class="panel b" style="background-image:url(https://images.unsplash.com/photo-1691389694412-266f872999c6?crop=entropy&cs=srgb&fm=jpg&q=85)"></div>
    <div class="panel c" style="background-image:url(https://images.unsplash.com/photo-1606391901318-07003db08d63?crop=entropy&cs=srgb&fm=jpg&q=85)"></div>
    <div class="panel d" style="background-image:url(https://images.unsplash.com/photo-1610785396756-24bd1889ddae?crop=entropy&cs=srgb&fm=jpg&q=85)"></div>
    <div class="panel e" style="background-image:url(https://images.unsplash.com/photo-1505849871170-7f94cf84f4d2?crop=entropy&cs=srgb&fm=jpg&q=85)"></div>
    <div class="panel f" style="background-image:url(https://images.unsplash.com/photo-1518087456308-c3976320f908?crop=entropy&cs=srgb&fm=jpg&q=85)"></div>
    <div class="panel g" style="background-image:url(https://images.unsplash.com/photo-1558724040-9de64afade55?crop=entropy&cs=srgb&fm=jpg&q=85)"></div>
    <div class="panel h" style="background-image:url(https://images.unsplash.com/photo-1604877098440-b7b440241686?crop=entropy&cs=srgb&fm=jpg&q=85)"></div>
    <div class="panel i" style="background-image:url(https://images.unsplash.com/photo-1518573484273-eb277fe4b036?crop=entropy&cs=srgb&fm=jpg&q=85)"></div>
    <div class="panel j" style="background-image:url(https://images.unsplash.com/photo-1485230895905-ec40ba36b9bc?crop=entropy&cs=srgb&fm=jpg&q=85)"></div>
    <div class="panel k" style="background-image:url(https://images.unsplash.com/photo-1546877625-cb8c71916608?crop=entropy&cs=srgb&fm=jpg&q=85)"></div>
    <div class="panel l" style="background-image:url(https://images.unsplash.com/photo-1551727974-8af20a3322f1?crop=entropy&cs=srgb&fm=jpg&q=85)"></div>
    <div class="panel m" style="background-image:url(https://images.unsplash.com/photo-1436759644647-e274ee931eaa?crop=entropy&cs=srgb&fm=jpg&q=85)"></div>
    <div class="panel n" style="background-image:url(https://images.unsplash.com/photo-1533779671378-06561cdaacb5?crop=entropy&cs=srgb&fm=jpg&q=85)"></div>
    <div class="panel o" style="background-image:url(https://images.unsplash.com/photo-1544377570-a774bea2355c?crop=entropy&cs=srgb&fm=jpg&q=85)"></div>
    <div class="panel p" style="background-image:url(https://images.unsplash.com/photo-1586693231040-e89840e7d805?crop=entropy&cs=srgb&fm=jpg&q=85)"></div>
    <div class="fade"></div>
  </div>
</div>

<div class="pagination">
  <button id="prev">&#8592;</button>
  <button id="next">&#8594;</button>
</div>

<script>
var ang = 0;
var panels = $(".panel");
var totalPanels = panels.length;

function updateVisible() {
  // Mostrar solo los 5 paneles frontales
  panels.css("opacity", 0);
  for(var i = 0; i < 5; i++){
    var index = (Math.round(ang / 22.5) + i) % totalPanels;
    if(index < 0) index += totalPanels;
    panels.eq(index).css("opacity",1);
  }
  $("*").css("--ang", ang);
}

$("#prev").click(function(){
  ang += 22.5;
  updateVisible();
});

$("#next").click(function(){
  ang -= 22.5;
  updateVisible();
});

updateVisible();
</script>

</body>
</html>
