<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>3D Spinner 5 Panels</title>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@900&display=swap');

  html, body { margin:0; height:100%; background:black; display:flex; justify-content:center; align-items:center; flex-direction:column; }
  .container { position:relative; display:flex; justify-content:center; align-items:center; }
  .holder { width:600px; height:200px; perspective:700px; display:flex; justify-content:center; align-items:center; }
  .spinner { position:relative; transform-style:preserve-3d; display:flex; justify-content:center; align-items:center; transition: transform .5s ease-in-out; }

  .panel {
    position:absolute; width:100px; height:100px; border-radius:5px; background-size:cover; background-position:center; transition: transform .5s ease, opacity .5s ease; 
  }

  .fade { background:linear-gradient(90deg, rgba(0,0,0,0) 0%, rgba(0,0,0,0.4) 30%, rgba(0,0,0,0.4) 70%, rgba(0,0,0,0) 100%); width:860px; height:200px; position:absolute; pointer-events:none; }

  .pagination { position:absolute; top:50%; width:100%; display:flex; justify-content:space-between; transform:translateY(-50%); }
  .pagination button { width:44px; height:44px; border-radius:50%; border:none; background:#fffa; font-size:20px; cursor:pointer; font-family:'Roboto',sans-serif; transition:.2s; }
  .pagination button:hover { background:#fffc; }
  .pagination button:active { background:#ffff; }
  #prev { margin-left:20px; } #next { margin-right:20px; }
</style>
</head>
<body>
<div class="container">
  <div class="holder">
    <div class="spinner">
      <div class="panel a"></div>
      <div class="panel b"></div>
      <div class="panel c"></div>
      <div class="panel d"></div>
      <div class="panel e"></div>
      <div class="fade"></div>
    </div>
  </div>
  <div class="pagination">
    <button id="prev">&#8592;</button>
    <button id="next">&#8594;</button>
  </div>
</div>

<script>
var ang = 0;
var panels = 5;
var ang_unit = 360 / panels;
var zoom_scale = 1.5;
var images = [
  'https://images.unsplash.com/photo-1516727003284-a96541e51e9c',
  'https://images.unsplash.com/photo-1691389694412-266f872999c6',
  'https://images.unsplash.com/photo-1606391901318-07003db08d63',
  'https://images.unsplash.com/photo-1610785396756-24bd1889ddae',
  'https://images.unsplash.com/photo-1505849871170-7f94cf84f4d2'
];

function updateSpinner() {
  $(".panel").each(function(index){
    // Ciclo de imágenes
    var imgIndex = (index + Math.round(ang/ang_unit)) % panels;
    if(imgIndex<0) imgIndex += panels;
    $(this).css('background-image', `url(${images[imgIndex]})`);

    // Posición 3D
    var total_ang = index*ang_unit + ang;
    if(total_ang>180) total_ang-=360;
    if(total_ang<-180) total_ang+=360;

    // Escala y visibilidad
    var scale = Math.abs(total_ang)<ang_unit/2 ? zoom_scale : 1;
    var opacity = Math.abs(total_ang)<56 ? 1 : 0;
    $(this).css({transform:`rotateY(${index*ang_unit}deg) translateZ(200px) scale(${scale})`, opacity:opacity});
  });

  $(".spinner").css("transform", `rotateY(${ang}deg)`);
}

$("#prev").click(function(){ ang+=ang_unit; updateSpinner(); });
$("#next").click(function(){ ang-=ang_unit; updateSpinner(); });

$(document).ready(function(){ updateSpinner(); });
</script>
</body>
</html>
